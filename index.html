<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Paige Challenges 1-18</title>
  <style>
    :root{
      --bg:#f6f6f7;
      --card:#ffffff;
      --text:#111;
      --muted:rgba(0,0,0,.65);
      --border:rgba(0,0,0,.12);
      --btn:#ffffff;
      --btnText:#111;
      --btnBorder:rgba(0,0,0,.20);
      --accent:rgba(0,0,0,.06);
    }
    [data-theme="dark"]{
      --bg:#0b0c0f;
      --card:#12131a;
      --text:#f2f3f5;
      --muted:rgba(242,243,245,.72);
      --border:rgba(242,243,245,.14);
      --btn:#1a1b24;
      --btnText:#f2f3f5;
      --btnBorder:rgba(242,243,245,.22);
      --accent:rgba(242,243,245,.08);
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      background:var(--bg);
      color:var(--text);
      font-family:-apple-system, Arial, sans-serif;
      padding: env(safe-area-inset-top) 14px env(safe-area-inset-bottom) 14px;
    }
    .wrap{max-width:780px;margin:0 auto;padding:14px 0 22px}
    .card{
      background:var(--card);
      border:1px solid var(--border);
      border-radius:18px;
      padding:14px;
    }
    .top{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-bottom:10px;
    }
    h1{font-size:18px;margin:0}
    .btnSmall{
      padding:10px 12px;
      border-radius:12px;
      border:1px solid var(--btnBorder);
      background:var(--btn);
      color:var(--btnText);
      font-size:14px;
      width:auto;
      white-space:nowrap;
    }
    .grid2{display:grid;grid-template-columns:1fr 1fr;gap:10px}
    .grid3{display:grid;grid-template-columns:1fr 1fr 1fr;gap:10px}
    .pill{
      display:inline-block;
      padding:7px 10px;
      border:1px solid var(--border);
      border-radius:999px;
      font-size:13px;
      color:var(--muted);
      background:var(--accent);
    }
    .heroImg{
      width:100%;
      height:160px;
      object-fit:contain;
      background:#000;
      border-radius:14px;
      border:1px solid var(--border);
      display:block;
      margin:10px 0 12px;
    }
    .bigNum{
      text-align:center;
      font-size:92px;
      font-weight:900;
      letter-spacing:-1px;
      line-height:1;
      margin:10px 0 6px;
    }
    .challenge{
      text-align:center;
      font-size:20px;
      color:var(--muted);
      margin:0 0 12px;
      padding:0 6px;
    }
    .primary{
      width:100%;
      padding:18px 16px;
      font-size:22px;
      font-weight:700;
      border-radius:16px;
      border:1px solid var(--btnBorder);
      background:var(--btn);
      color:var(--btnText);
    }
    .secondary{
      width:100%;
      padding:12px 14px;
      font-size:16px;
      border-radius:14px;
      border:1px solid var(--btnBorder);
      background:var(--btn);
      color:var(--btnText);
    }
    .sectionTitle{
      font-size:15px;
      margin:14px 2px 8px;
      color:var(--muted);
    }
    ul{margin:6px 0 0;padding-left:18px}
    li{margin:7px 0;color:var(--muted)}
    select{
      width:100%;
      padding:12px 12px;
      border-radius:14px;
      border:1px solid var(--btnBorder);
      background:var(--btn);
      color:var(--btnText);
      font-size:16px;
    }
    .rowInfo{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin:6px 0 10px;
    }
    .hint{font-size:13px;color:var(--muted);margin-top:6px}
  </style>
</head>

<body>
  <div class="wrap">
    <div class="top">
      <h1>Paige Challenges</h1>
      <button class="btnSmall" id="themeBtn" onclick="toggleTheme()">Donker</button>
    </div>

    <div class="card">
      <!-- Foto: upload header.jpg in je repo -->
      <img class="heroImg" src="header.jpg" alt="Header" onerror="this.style.display='none';" />

      <div class="rowInfo">
        <span class="pill" id="counter">Trekkingen: 0</span>
        <span class="pill" id="flightInfo">Flight: 3 spelers</span>
        <span class="pill" id="turnInfo">Aan de beurt: speler 1</span>
      </div>

      <div class="grid2" style="margin-bottom:10px;">
        <div>
          <div class="sectionTitle">Flight grootte</div>
          <select id="flightSize" onchange="setFlightSize(this.value)">
            <option value="3" selected>3 spelers</option>
            <option value="4">4 spelers</option>
          </select>
          <div class="hint">Tip: tik na elke challenge op "Volgende speler".</div>
        </div>
        <div>
          <div class="sectionTitle">Acties</div>
          <div class="grid2">
            <button class="secondary" onclick="nextPlayer()">Volgende speler</button>
            <button class="secondary" onclick="resetAlles()">Reset</button>
          </div>
        </div>
      </div>

      <div class="bigNum" id="nummer">-</div>
      <p class="challenge" id="opdracht">Druk op "Trek nummer".</p>

      <button class="primary" onclick="trekNummer()">Trek nummer</button>

      <div class="grid3" style="margin-top:10px;">
        <button class="secondary" onclick="deel()">Delen</button>
        <button class="secondary" onclick="kopieerLink()">Kopieer link</button>
        <button class="secondary" onclick="fullscreen()">Fullscreen</button>
      </div>

      <div class="sectionTitle">Log (nieuwste bovenaan)</div>
      <ul id="log"></ul>
    </div>
  </div>

  <script>
    // Challenges 1-18
    const challenges = {
      1: "Hockey Stick - Afslag met een good old hockeystick",
      2: "Closest to the pin - Als je approach het dichtst bij de hole eindigt +1 extra stableford punt.",
      3: "Joker - Geen beperking, je speelt normaal.",
      4: "High buddy - Je speelt de tweede slag vanaf max. 1 clublengte van de afslag van de hoogste hcp’er in de flight, niet dichter bij de hole.",
      5: "Low buddy - Je speelt de tweede slag max. 1 clublengte van de bal van de laagste hcp’er in de flight, niet dichter bij de hole.",
      6: "No driver - Driver blijft in de tas.",
      7: "7 - De hele hole speel je met ijzer 7.",
      8: "Putten met ijzer - Op de green putt je met een ijzer.",
      9: "Eén mulligan - Je mag één slag opnieuw doen op deze hole.",
      10: "Eénhandige afslag - De afslag moet met één hand worden geslagen.",
      11: "Tee up everywhere - Elke slag buiten de green mag je opteeën.",
      12: "Fairway verplicht - Afslag moet fairway raken, anders 1 stableford in mindering.",
      13: "Longest woodie - Als jij de longest slaat op deze hole extra stableford punt (op een par drie closest tot the pin).",
      14: "One club - Je kiest één club voor de hele hole, ook voor putten.",
      15: "Birdie boost - Par = +1 punt, birdie = +2 punten. (Extra)",
      16: "Double or lose - Stablefordpunten tellen dubbel, Geen punten twee stableford punten in mindering.",
      17: "Geen routine - Geen practice swings of waggle, direct slaan.",
      18: "Paige skip - Je mag één slag in mindering brengen op de hole."
    };

    // State
    let trekkingen = 0;
    let flightSize = 3;
    let currentPlayer = 1;

    // Theme
    const savedTheme = localStorage.getItem("theme");
    if (savedTheme) document.documentElement.setAttribute("data-theme", savedTheme);
    updateThemeButton();

    function toggleTheme(){
      const cur = document.documentElement.getAttribute("data-theme");
      const next = cur === "dark" ? "" : "dark";
      if (next) document.documentElement.setAttribute("data-theme", next);
      else document.documentElement.removeAttribute("data-theme");
      localStorage.setItem("theme", next || "");
      updateThemeButton();
    }
    function updateThemeButton(){
      const cur = document.documentElement.getAttribute("data-theme");
      document.getElementById("themeBtn").textContent = cur === "dark" ? "Licht" : "Donker";
    }

    function setFlightSize(val){
      flightSize = parseInt(val, 10);
      if (currentPlayer > flightSize) currentPlayer = 1;
      updateFlightUI();
    }

    function nextPlayer(){
      currentPlayer += 1;
      if (currentPlayer > flightSize) currentPlayer = 1;
      updateFlightUI();
      // Kleine tik feedback als het kan
      if (navigator.vibrate) navigator.vibrate(25);
    }

    function updateFlightUI(){
      document.getElementById("flightInfo").textContent = `Flight: ${flightSize} spelers`;
      document.getElementById("turnInfo").textContent = `Aan de beurt: speler ${currentPlayer}`;
    }

    function updateCounter(){
      document.getElementById("counter").textContent = `Trekkingen: ${trekkingen}`;
    }

    function trekNummer(){
      const nummer = Math.floor(Math.random() * 18) + 1;
      const opdracht = challenges[nummer] || "Geen challenge ingesteld";

      trekkingen += 1;
      updateCounter();

      document.getElementById("nummer").textContent = nummer;
      document.getElementById("opdracht").textContent = opdracht;

      // Trillen bij nieuw nummer
      if (navigator.vibrate) navigator.vibrate([35, 40, 35]);

      const li = document.createElement("li");
      li.textContent = `Speler ${currentPlayer}: #${nummer} - ${opdracht}`;
      document.getElementById("log").prepend(li);
    }

    function resetAlles(){
      trekkingen = 0;
      currentPlayer = 1;
      updateCounter();
      updateFlightUI();
      document.getElementById("nummer").textContent = "-";
      document.getElementById("opdracht").textContent = 'Druk op "Trek nummer".';
      document.getElementById("log").innerHTML = "";
      if (navigator.vibrate) navigator.vibrate(30);
    }

    function deel(){
      const title = "Paige Challenges 1-18";
      const text = "Open de pagina en trek een nummer voor de challenge.";
      const url = window.location.href;

      if (navigator.share) navigator.share({ title, text, url }).catch(() => {});
      else alert('Delen werkt hier niet direct. Gebruik "Kopieer link".');
    }

    async function kopieerLink(){
      try{
        await navigator.clipboard.writeText(window.location.href);
        alert("Link gekopieerd.");
      }catch(e){
        alert("Kopieren lukt niet. Kopieer handmatig uit de adresbalk.");
      }
    }

    async function fullscreen(){
      try{
        const el = document.documentElement;
        if (!document.fullscreenElement && el.requestFullscreen) await el.requestFullscreen();
        else if (document.exitFullscreen) await document.exitFullscreen();
      }catch(e){
        alert("Fullscreen werkt niet in deze browser.");
      }
    }

    // Init
    updateCounter();
    updateFlightUI();
  </script>
</body>
</html>

